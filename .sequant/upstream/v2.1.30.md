# Claude Code v2.1.30 Assessment

**Assessed:** 2026-02-04

## Upstream: Claude Code v2.1.30 Assessment

**Release:** [v2.1.30](https://github.com/anthropics/claude-code/releases/tag/v2.1.30)
**Released:** 2026-02-03
**Assessed:** 2026-02-04

### Summary

| Category | Count | Action Required |
|----------|-------|-----------------|
| Breaking Changes | 0 | None |
| Deprecations | 0 | None |
| New Tools | 0 | None |
| Hook Changes | 0 | None |
| Opportunities | 4 | Review recommended |
| No Action | 14 | None |

### Breaking Changes

None detected.

### Deprecations

None detected.

### New Tools

None detected.

### Hook Changes

None detected.

### Feature Opportunities

1. **PDF Page Ranges in Read Tool**
   - Added `pages` parameter to the Read tool for PDFs, allowing specific page ranges (e.g., `pages: "1-5"`)
   - Large PDFs (>10 pages) now return lightweight reference when `@` mentioned
   - **Keywords matched:** Read
   - **Impact:** Skills dealing with documentation or large PDFs could benefit from targeted page reads
   - **Impact files:** .claude/skills/**/*.md

2. **Task Tool Metrics**
   - Added token count, tool uses, and duration metrics to Task tool results
   - **Keywords matched:** Task
   - **Impact:** Workflow monitoring and optimization - sequant skills could track/report execution metrics
   - **Impact files:** .claude/skills/**/*.md, src/lib/workflow/*.ts

3. **OAuth Client Credentials for MCP Servers**
   - Added pre-configured OAuth client credentials for MCP servers that don't support Dynamic Client Registration
   - Use `--client-id` and `--client-secret` with `claude mcp add`
   - **Keywords matched:** MCP
   - **Impact:** Enables integration with OAuth-protected MCP servers (e.g., Slack)
   - **Impact files:** docs/mcp-integrations.md, .claude/settings.json

4. **Subagents Can Now Access SDK MCP Tools**
   - Fixed subagents not being able to access SDK-provided MCP tools (they were not synced to shared application state)
   - **Keywords matched:** subagent, MCP, tool
   - **Impact:** Task agents in skills can now reliably use MCP tools - previously broken
   - **Impact files:** .claude/skills/**/*.md

### No Action Required

14 changes did not require action:

- Added `/debug` for Claude to help troubleshoot the current session
- Added support for additional `git log` and `git show` flags in read-only mode
- Added reduced motion mode to the config
- Fixed phantom "(no content)" text blocks appearing in API conversation history
- Fixed prompt cache not correctly invalidating when tool descriptions or input schemas changed
- Fixed 400 errors that could occur after running `/login` when conversation contained thinking blocks
- Fixed a hang when resuming sessions with corrupted transcript files containing `parentUuid` cycles
- Fixed rate limit message showing incorrect "/upgrade" suggestion for Max 20x users
- Fixed permission dialogs stealing focus while actively typing
- Fixed a regression where Windows users with a `.bashrc` file could not run bash commands
- Improved memory usage for `--resume` (68% reduction)
- Improved `TaskStop` tool to display stopped command/task description in result
- Changed `/model` to execute immediately instead of being queued
- [VSCode] Added multiline input support to "Other" text input in question dialogs
- [VSCode] Fixed duplicate sessions appearing in session list

---

*Generated by /upstream skill*

## Raw Data

```json
{
  "version": "v2.1.30",
  "releaseDate": "2026-02-03",
  "assessmentDate": "2026-02-04",
  "previousVersion": "v2.1.29",
  "summary": {
    "breakingChanges": 0,
    "deprecations": 0,
    "newTools": 0,
    "hookChanges": 0,
    "opportunities": 4,
    "noAction": 14
  },
  "findings": [
    {
      "title": "PDF Page Ranges in Read Tool",
      "category": "opportunity",
      "keywords": ["Read"],
      "description": "Added pages parameter to Read tool for PDFs"
    },
    {
      "title": "Task Tool Metrics",
      "category": "opportunity",
      "keywords": ["Task"],
      "description": "Token count, tool uses, and duration metrics in Task results"
    },
    {
      "title": "OAuth Client Credentials for MCP",
      "category": "opportunity",
      "keywords": ["MCP"],
      "description": "Pre-configured OAuth for MCP servers without DCR support"
    },
    {
      "title": "Subagents Access SDK MCP Tools",
      "category": "opportunity",
      "keywords": ["subagent", "MCP", "tool"],
      "description": "Fixed subagents not accessing SDK-provided MCP tools"
    }
  ],
  "issuesCreated": []
}
```
